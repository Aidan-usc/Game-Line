<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Leaderboard · Phantom Picks</title>

  <!-- Use your existing site stylesheet (relative path for GitHub Pages) -->
  <link rel="stylesheet" href="assets/css/styles.css?v=lb5">
</head>
<body>

  <!-- Header partial goes here -->
  <div id="site-header"></div>

  <!-- Main content -->
  <main class="page-content" id="leaderboard-page">
    <section class="league-banner league-sec">
      <div class="banner-inner">
        <h1>Leaderboard</h1>
        <p>Track the hottest hands and biggest swings across Phantom Picks.</p>
      </div>
    </section>

    <div class="filter-bar">
      <div class="filter-bar-inner">
        <div class="filter-left" style="gap:10px">
          <div class="select-wrap">
            <button class="btn btn-refresh" data-range="7d"   id="lb-7d">7 days</button>
            <button class="btn btn-refresh" data-range="30d"  id="lb-30d">30 days</button>
            <button class="btn btn-refresh" data-range="all"  id="lb-all">All time</button>
          </div>

          <div class="select-wrap">
            <button class="btn btn-refresh" data-metric="net"    id="lb-m-net">Net</button>
            <button class="btn btn-refresh" data-metric="roi"    id="lb-m-roi">ROI</button>
            <button class="btn btn-refresh" data-metric="volume" id="lb-m-vol">Volume</button>
          </div>
        </div>

        <div class="filter-right">
          <label class="filter-label" for="lb-sport">Sport</label>
          <div class="select-wrap">
            <select id="lb-sport" class="filter-select">
              <option value="all">All sports</option>
              <option value="mlb">MLB</option>
              <option value="nfl">NFL</option>
              <option value="sec">CFB (Power-4 + ND)</option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <!-- Summary tiles -->
    <div class="card-grid three" style="margin-top:10px">
      <div class="info-card">
        <h3>Active users</h3>
        <p id="stat-active">—</p>
      </div>
      <div class="info-card">
        <h3>Avg ROI</h3>
        <p id="stat-avg-roi">—</p>
      </div>
      <div class="info-card">
        <h3>Biggest single win</h3>
        <p id="stat-biggest">—</p>
      </div>
      <div class="info-card">
        <h3>Hottest streak</h3>
        <p id="stat-streak">—</p>
      </div>
    </div>

    <!-- Winners / Losers headings -->
    <div class="card-grid three" style="grid-template-columns:1fr 1fr; margin-top:14px;">
      <div class="info-card" style="border-left-color: var(--green);">
        <h3 style="margin:0 0 4px 0;">Top winners</h3>
      </div>
      <div class="info-card" style="border-left-color: var(--carmine);">
        <h3 style="margin:0 0 4px 0;">Biggest losers</h3>
      </div>
    </div>

    <!-- Table -->
    <div class="odds-board" style="grid-template-columns:1fr;">
      <div class="game-card">
        <div class="gc-head">
          <strong>#</strong>
          <strong style="width:22%">User</strong>
          <strong>Record</strong>
          <strong>Net</strong>
          <strong>ROI</strong>
          <strong>Best hit</strong>
          <strong>Last 7d</strong>
        </div>
        <div id="lb-table" class="gc-body" style="padding:12px;">
          <!-- rows injected by leaderboard.js -->
        </div>
      </div>
    </div>
  </main>

  <!-- Footer partial goes here -->
  <div id="site-footer"></div>

  <!-- Existing site JS and page JS -->
  <script src="assets/js/app.js"></script>
  <script src="assets/js/leaderboard.js?v=lb5"></script>

  <!-- Fallback tiny partial loader if app.js doesn't attach one -->
  <script>
    (function(){
      function loadInto(sel, url){
        const el = document.querySelector(sel);
        if (!el) return;
        fetch(url).then(r => r.ok ? r.text() : Promise.reject())
                  .then(html => el.innerHTML = html)
                  .catch(()=>{ /* no-op */});
      }
      // If your app.js already populated header/footer, skip.
      if (!document.querySelector('#site-header').hasChildNodes()) {
        loadInto('#site-header', 'partials/header.html');
      }
      if (!document.querySelector('#site-footer').hasChildNodes()) {
        loadInto('#site-footer', 'partials/footer.html');
      }
    })();
  </script>
</body>
</html>
